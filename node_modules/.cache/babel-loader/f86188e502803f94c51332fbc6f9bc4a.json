{"ast":null,"code":"import _objectSpread from \"/media/mickuki/f37c4816-231b-487c-8f5f-b372b930c30c/web_master/programist-war/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport * as actionTypes from '../actions';\nimport * as cardAttributes from '../../components/Game/Cards/cardAttributes';\nimport math from 'mathjs';\nconst initialState = {\n  results: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n  allCards: {\n    cards: [{\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }],\n    cardOpponent: [{\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }, {\n      position: 40\n    }]\n  }\n};\n\nconst reducer = (state = initialState, action) => {\n  const attack = (newAllCards1, direction, attack1, attack2) => {\n    //const newAllCards1={...state.allCards}\n    if (attack2) {\n      if (state.results[direction]) {\n        alet(direction);\n\n        if (state.results[direction + 5]) {\n          alert(1);\n          newAllCards1[state.results[direction]].value.life -= attack1;\n          newAllCards1[state.results[direction + 5]].value.life -= attack2;\n        } else {\n          alert(5);\n          newAllCards1[state.results[direction]].value.life -= attack1 + attack2;\n        }\n      } else if (state.results[direction + 5]) {\n        alert(2);\n        newAllCards1[state.results[direction + 5]].value.life -= attack1 + attack2;\n      }\n    } else {\n      if (state.results[direction]) {\n        alert(3);\n        newAllCards1[state.results[direction]].value.life -= attack1;\n      } else if (state.results[direction + 5]) {\n        alert(4);\n        newAllCards1[state.results[direction + 5]].value.life -= attack1;\n      }\n    }\n\n    return newAllCards1;\n  };\n\n  const defense = newAllCards1 => {\n    for (let i = 0; i < 5; i++) {\n      if (state.results[i]) {\n        if (state.results[i + 5]) {\n          newAllCards1 = attack(newAllCards1, i + 10, 1, 1);\n        } else {\n          newAllCards1 = attack(newAllCards1, i + 10, 1, 1);\n        }\n      } else if (state.results[i + 5]) {\n        newAllCards1 = attack(newAllCards1, i + 10, 1, 1);\n      }\n    }\n\n    return newAllCards1;\n  };\n\n  const playOponents = () => {\n    const x = Math.floor(Math.random() * 10) + 10; //tymczasowy bott\n\n    const y = Math.floor(Math.random() * 10);\n    const newResults4 = state.results;\n\n    const newAllCards2 = _objectSpread({}, state.allCards);\n\n    newResults4[x] = y;\n    newAllCards2.cardOpponent[y].position = x;\n    return _objectSpread({}, state, {\n      results: newResults4,\n      allCards: _objectSpread({}, newAllCards2)\n    });\n  };\n\n  switch (action.type) {\n    case 'PLAY_THE_CARD':\n      const newResults = state.results;\n\n      const newAllCards = _objectSpread({}, state.allCards);\n\n      newResults[action.id] = action.val;\n      newAllCards.cards[action.val].position = action.id;\n      return _objectSpread({}, state, {\n        results: newResults,\n        allCards: _objectSpread({}, newAllCards)\n      });\n\n    case 'GIVEAWAYTHECARS':\n      const newState = _objectSpread({}, state.allCards);\n\n      newState.cards.map(card => {\n        card.position = 50;\n        card.value = _objectSpread({}, cardAttributes.PIXEL); //do zmiany\n      });\n      newState.cardOpponent.map(card => {\n        card.position = 50;\n        card.value = _objectSpread({}, cardAttributes.PIXEL); //do zmiany\n      });\n      return _objectSpread({}, state, {\n        allCards: _objectSpread({}, newState)\n      });\n\n    case 'ENDTURN':\n      playOponents();\n      const newAllCards1 = state.allCards.cardOpponent; //mozliwe do poprawy !!!\n\n      const newAllCards2 = state.allCards.cards;\n      return _objectSpread({}, state, {\n        allCards: {\n          cardOpponent: defense(newAllCards1),\n          cards: defense(newAllCards2)\n        }\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/media/mickuki/f37c4816-231b-487c-8f5f-b372b930c30c/web_master/programist-war/src/store/reducers/table.js"],"names":["actionTypes","cardAttributes","math","initialState","results","allCards","cards","position","cardOpponent","reducer","state","action","attack","newAllCards1","direction","attack1","attack2","alet","alert","value","life","defense","i","playOponents","x","Math","floor","random","y","newResults4","newAllCards2","type","newResults","newAllCards","id","val","newState","map","card","PIXEL"],"mappings":"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","sourcesContent":["import * as actionTypes from '../actions';\nimport * as cardAttributes from '../../components/Game/Cards/cardAttributes';\nimport math from 'mathjs';\n\nconst initialState = {\n    results: [false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],\n    allCards:{\n        cards:[{position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40}],\n        cardOpponent:[{position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40},\n            {position:40}]\n    }\n};\n\nconst reducer = ( state = initialState, action) => {\n\n\n    const attack =(newAllCards1,direction,attack1,attack2)=>{\n        //const newAllCards1={...state.allCards}\n        if(attack2){\n            if(state.results[direction]){alet(direction)\n                if(state.results[direction+5]){alert(1)\n                    newAllCards1[state.results[direction]].value.life-=(attack1);\n                    newAllCards1[state.results[direction+5]].value.life-=(attack2);\n                }else{alert(5)\n                    newAllCards1[state.results[direction]].value.life-=(attack1+attack2);\n                }\n            }else\n            if(state.results[direction+5]){alert(2)\n                newAllCards1[state.results[direction+5]].value.life-=(attack1+attack2);\n            }\n        }else{\n            if(state.results[direction]){alert(3)\n                newAllCards1[state.results[direction]].value.life-=(attack1);\n            }else\n            if(state.results[direction+5]){alert(4)\n                newAllCards1[state.results[direction+5]].value.life-=(attack1);\n            }\n        }\n        return newAllCards1;\n    }\n\n    const defense =(newAllCards1)=>{\n        for(let i=0;i<5;i++){\n            if(state.results[i]){\n                if(state.results[i+5]){\n                    newAllCards1=attack(newAllCards1,i+10,1,1);\n                }else{\n                    newAllCards1=attack(newAllCards1,i+10,1,1);\n                }\n            }else\n            if(state.results[i+5]){\n                newAllCards1=attack(newAllCards1,i+10,1,1);\n            }\n        }\n        return newAllCards1;\n    }\n    const playOponents=()=>{\n        const x=Math.floor(Math.random() * 10)+10;//tymczasowy bott\n        const y=Math.floor(Math.random() * 10);\n        const newResults4=state.results;\n        const newAllCards2={...state.allCards}\n        newResults4[x]=y;\n        newAllCards2.cardOpponent[y].position=x;\n            return {...state,\n                results:newResults4,\n                allCards:{...newAllCards2},\n            }\n    }\n\n    switch ( action.type ) {\n        case 'PLAY_THE_CARD':\n            const newResults=state.results;\n            const newAllCards={...state.allCards}\n            newResults[action.id]=action.val;\n            newAllCards.cards[action.val].position=action.id;\n                return {...state,\n                    results:newResults,\n                    allCards:{...newAllCards},\n                }\n        case 'GIVEAWAYTHECARS':\n            const newState={...state.allCards};\n            newState.cards.map((card)=>{\n                card.position=50;\n                card.value={...cardAttributes.PIXEL};//do zmiany\n            });\n            newState.cardOpponent.map((card)=>{\n                card.position=50;\n                card.value={...cardAttributes.PIXEL};//do zmiany\n            });\n            return{...state,\n                allCards:{...newState}};\n        case 'ENDTURN':\n            playOponents();\n            const newAllCards1=state.allCards.cardOpponent//mozliwe do poprawy !!!\n            const newAllCards2=state.allCards.cards\n            return {...state,\n                allCards:{\n                    cardOpponent:defense(newAllCards1),\n                    cards:defense(newAllCards2),\n\n            }}\n        default:\n            return state;\n    }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}