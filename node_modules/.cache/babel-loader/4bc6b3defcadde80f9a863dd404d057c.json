{"ast":null,"code":"import _objectSpread from \"/media/mickuki/f37c4816-231b-487c-8f5f-b372b930c30c/web_master/programist-war/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/media/mickuki/f37c4816-231b-487c-8f5f-b372b930c30c/web_master/programist-war/src/container/Game/Game.js\";\nimport React, { Component } from 'react';\nimport Cards from '../../components/Game/Cards/Cards';\nimport styles from './Game.module.css';\nimport math from 'mathjs';\nimport Table from '../../components/Game/Table/Table';\nimport { connect } from 'react-redux';\nimport LeftPanel from '../../components/Game/Panels/LeftPanel/LeftPanel';\nimport ButtonGame from '../../components/Game/ButtonGame/ButtonGame';\n\nclass Builder extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      valueButton: \"Start Game\",\n      hoverCardBlock: false\n    };\n    this.game = {\n      hoverCard: false,\n      fieldPlayed: false,\n      blockade: false\n    };\n\n    this.action = () => {\n      this.setState({\n        valueButton: \"Pass\"\n      });\n      this.props.giveAwayTheCards();\n    };\n\n    this.playTheCard = id => {\n      if ((this.game.hoverCard || this.game.hoverCard === 0) && !this.props.results[id]) {\n        this.setState({\n          valueButton: \"End Turn\",\n          hoverCardBlock: true\n        });\n        this.game.fieldPlayed = id;\n        this.props.playTheCard(this.game.hoverCard, this.game.fieldPlayed);\n      }\n    };\n\n    this.endTur = () => {\n      this.setState({\n        valueButton: \"Pass\",\n        hoverCardBlock: false\n      });\n      this.props.endTurn();\n      this.game.hoverCard = false;\n    };\n\n    this.hoverCard = (id, position) => {\n      if (40 !== position && this.state.valueButton === \"Pass\") {\n        //!this.state.hoverCardBlock){\n        this.game.hoverCard = id;\n        this.setState({\n          hoverCardBlock: true\n        });\n      }\n    };\n\n    this.tableNuber = position => {\n      if (position < 5) return 5;else return 10;\n    };\n\n    this.pass = () => {\n      this.setState({\n        valueButton: \"New Game\"\n      });\n      this.props.pass();\n    };\n\n    this.newGame = () => {\n      this.props.newGame();\n      this.setState({\n        valueButton: \"Start Game\"\n      });\n    };\n\n    this.cardGo = position => {\n      if (this.game.hoverCard) {\n        this.props.cardGo(this.game.hoverCard, position);\n        this.setState({\n          hoverCardBlock: false,\n          valueButton: \"Pass\"\n        });\n      }\n    };\n  }\n\n  render() {\n    const card = this.props.allCards.cards.map((counter, i) => {\n      const lenght = this.props.allCards.cards.length;\n      let styleCard = null;\n\n      if (counter.position === 50) {\n        styleCard = {\n          transform: \"translate3d(-\" + (-i * (300 / lenght) + 695) + \"%,\" + (155 + math.abs(i - lenght / 2) * (70 / lenght)) + \"%,\" + (i + 30) + \"px) rotate(\" + (-30 + 60 / (lenght - 1) * i) + \"deg)\",\n          display: 'block'\n        }; //do prawy Y i x\n\n        if (i === this.game.hoverCard) {\n          styleCard = _objectSpread({}, styleCard, {\n            backgroundColor: '#2d2e32',\n            zIndex: '200'\n          });\n        }\n      } else if (counter.position >= 0 && 20 >= counter.position) {\n        styleCard = {\n          transform: \"translate3d(-\" + (326 + 76 * (this.tableNuber(counter.position) - counter.position)) + \"%,\" + (34 + (this.tableNuber(counter.position) - 5) * 11.5) + \"%,\" + (i + 5) + \"px) rotate(0deg) scale(0.5)\",\n          display: 'block'\n        }; //do prawy Y i x\n      }\n\n      if (counter.position === 40) {\n        return React.createElement(Cards, {\n          clicked: () => {\n            this.hoverCard(i, counter.position);\n          },\n          key: i,\n          stylesCard: styleCard,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(Cards, {\n        clicked: () => {\n          this.hoverCard(i, counter.position);\n        },\n        key: i,\n        stylesCard: styleCard,\n        valCards: counter.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, counter.pictures);\n    });\n    const cardOpponent = this.props.allCards.cardOpponent.map((counter, i) => {\n      const lenght = this.props.allCards.cardOpponent.length;\n      let styleCard = null;\n\n      if (counter.position === 50) {\n        styleCard = {\n          transform: \"translate3d(-\" + (i * (300 / lenght) + 425) + \"%,\" + (-160 - math.abs(i - lenght / 2) * (70 / lenght)) + \"%,\" + (i + 5) + \"px) rotate(\" + (-30 + 60 / (lenght - 1) * i) + \"deg)\",\n          display: 'block'\n        }; //do prawy Y i x\n      }\n\n      if (counter.position >= 0 && 20 >= counter.position) {\n        styleCard = {\n          transform: \"translate3d(-\" + (326 + 76 * (this.tableNuber(counter.position - 10) - (counter.position - 10))) + \"%,\" + (this.tableNuber(counter.position - 10) * -11.5 + 36) + \"%,\" + (i + 5) + \"px) rotate(0deg) scale(0.5)\",\n          display: 'block'\n        }; //do prawy Y i x\n\n        return React.createElement(Cards, {\n          clicked: () => {\n            this.hoverCard(i, 0);\n          },\n          key: i,\n          stylesCard: styleCard,\n          valCards: counter.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, counter.pictures);\n      }\n\n      return React.createElement(Cards, {\n        clicked: () => {\n          this.hoverCard(i, 0);\n        },\n        key: i,\n        stylesCard: styleCard,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      });\n    });\n\n    const functionValue = () => {\n      if (this.state.valueButton === 'Start Game') {\n        return this.action();\n      } else if (this.state.valueButton === 'Pass') {\n        return this.pass();\n      } else if (this.state.valueButton === 'End Turn') {\n        return this.endTur();\n      } else if (this.state.valueButton === 'New Game') {\n        return this.newGame();\n      }\n    };\n\n    const functionButton = () => {\n      if (this.game.blockade === false) {\n        this.game.blockade = true;\n        functionValue();\n        setTimeout(() => {\n          this.game.blockade = false;\n        }, 500);\n      }\n    };\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Table, {\n      clicked: this.playTheCard,\n      field: this.props.results,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: styles.GameDiv,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, cardOpponent, card, React.createElement(LeftPanel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.cardOptions0,\n      onClick: () => {\n        this.cardGo(40);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"demo-icon icon-trash\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(ButtonGame, {\n      onClick: functionButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, this.state.valueButton), React.createElement(\"div\", {\n      className: styles.cardOptions1,\n      onClick: () => {\n        this.cardGo(50);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"demo-icon icon-reply-all\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    allCards: state.table.allCards,\n    results: state.table.results\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    playTheCard: (hoverCard, fieldPlayed) => dispatch({\n      type: 'PLAY_THE_CARD',\n      val: hoverCard,\n      id: fieldPlayed\n    }),\n    giveAwayTheCards: () => dispatch({\n      type: 'GIVEAWAYTHECARS'\n    }),\n    endTurn: () => dispatch({\n      type: 'ENDTURN'\n    }),\n    pass: () => dispatch({\n      type: 'PASS'\n    }),\n    newGame: () => dispatch({\n      type: 'NEWGAME'\n    }),\n    cardGo: (hoverCard, val) => dispatch({\n      type: 'CARDGO',\n      val: hoverCard,\n      fieldPlayed: val\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Builder);","map":{"version":3,"sources":["/media/mickuki/f37c4816-231b-487c-8f5f-b372b930c30c/web_master/programist-war/src/container/Game/Game.js"],"names":["React","Component","Cards","styles","math","Table","connect","LeftPanel","ButtonGame","Builder","state","valueButton","hoverCardBlock","game","hoverCard","fieldPlayed","blockade","action","setState","props","giveAwayTheCards","playTheCard","id","results","endTur","endTurn","position","tableNuber","pass","newGame","cardGo","render","card","allCards","cards","map","counter","i","lenght","length","styleCard","transform","abs","display","backgroundColor","zIndex","value","pictures","cardOpponent","functionValue","functionButton","setTimeout","GameDiv","cardOptions0","cardOptions1","mapStateToProps","table","mapDispatchToProps","dispatch","type","val"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Cards from '../../components/Game/Cards/Cards';\nimport styles from './Game.module.css';\nimport math from 'mathjs';\nimport Table from '../../components/Game/Table/Table';\nimport { connect } from 'react-redux';\nimport LeftPanel from '../../components/Game/Panels/LeftPanel/LeftPanel';\nimport ButtonGame from '../../components/Game/ButtonGame/ButtonGame';\nclass Builder extends Component{\n    state={\n        valueButton:\"Start Game\",\n        hoverCardBlock:false,\n    }\n    game={\n        hoverCard:false,\n        fieldPlayed:false,\n        blockade:false\n    }\n    action=()=>{\n        this.setState({valueButton:\"Pass\"});\n        this.props.giveAwayTheCards();\n    }\n    playTheCard=(id)=>{\n        if((this.game.hoverCard || this.game.hoverCard===0)&& !this.props.results[id]){\n            this.setState({valueButton:\"End Turn\",hoverCardBlock:true});\n            this.game.fieldPlayed=id;\n            this.props.playTheCard(this.game.hoverCard,this.game.fieldPlayed);\n        }\n    }\n    endTur=()=>{\n        this.setState({valueButton:\"Pass\",hoverCardBlock:false})\n        this.props.endTurn();\n        this.game.hoverCard=false;\n    }\n    hoverCard=(id,position)=>{\n        if(40!==position && this.state.valueButton===\"Pass\"){//!this.state.hoverCardBlock){\n            this.game.hoverCard=id;\n            this.setState({hoverCardBlock:true})\n        }\n    }\n    tableNuber=(position)=>{if(position<5)\n        return(5);\n    else\n        return(10);}\n    pass=()=>{\n        this.setState({valueButton:\"New Game\"});\n        this.props.pass()\n    }\n    newGame=()=>{\n        this.props.newGame()\n        this.setState({valueButton:\"Start Game\"});\n    }\n    cardGo=(position)=>{\n        if(this.game.hoverCard){\n            this.props.cardGo(this.game.hoverCard,position);\n            this.setState({hoverCardBlock:false,valueButton:\"Pass\"})\n        }\n    }\n    render(){\n        const card=this.props.allCards.cards.map((counter,i)=>{\n            const lenght=this.props.allCards.cards.length;\n            let styleCard=null;\n            if(counter.position===50){\n                styleCard={transform:\"translate3d(-\"+(-i*(300/lenght)+695)+\"%,\"+(155+math.abs(i-lenght/2)*(70/lenght))+\"%,\"+(i+30)+\"px) rotate(\"+(-30+(60/(lenght-1))*i)+\"deg)\",display: 'block'};//do prawy Y i x\n                if(i===this.game.hoverCard){\n                    styleCard={...styleCard,\n                        backgroundColor: '#2d2e32',\n                        zIndex: '200'}\n                }\n            }else\n            if(counter.position>=0 && 20>=counter.position){\n                styleCard={transform:\"translate3d(-\"+(326+76*(this.tableNuber(counter.position)-counter.position))+\"%,\"+(34+(this.tableNuber(counter.position)-5)*11.5)+\"%,\"+(i+5)+\"px) rotate(0deg) scale(0.5)\",display: 'block'};//do prawy Y i x\n            }\n            if(counter.position===40){\n                return <Cards clicked={()=>{this.hoverCard(i,counter.position)}} key={i} stylesCard={styleCard}></Cards>\n            }\n            return <Cards clicked={()=>{this.hoverCard(i,counter.position)}} key={i} stylesCard={styleCard} valCards={counter.value}>{counter.pictures}</Cards>\n        })\n\n\n        const cardOpponent=this.props.allCards.cardOpponent.map((counter,i)=>{\n            const lenght=this.props.allCards.cardOpponent.length;\n            let styleCard=null;\n            if(counter.position===50){\n                styleCard={transform:\"translate3d(-\"+(i*(300/lenght)+425)+\"%,\"+(-160-math.abs(i-lenght/2)*(70/lenght))+\"%,\"+(i+5)+\"px) rotate(\"+(-30+(60/(lenght-1))*i)+\"deg)\",display: 'block'};//do prawy Y i x\n            }\n            if(counter.position>=0 && 20>=counter.position){\n                styleCard={transform:\"translate3d(-\"+(326+76*((this.tableNuber(counter.position-10)-(counter.position-10))))+\"%,\"+((this.tableNuber(counter.position-10))*(-11.5)+36)+\"%,\"+(i+5)+\"px) rotate(0deg) scale(0.5)\",display: 'block'};//do prawy Y i x\n                return <Cards clicked={()=>{this.hoverCard(i,0)}} key={i} stylesCard={styleCard} valCards={counter.value}>{counter.pictures}</Cards>\n            }\n            return <Cards clicked={()=>{this.hoverCard(i,0)}} key={i} stylesCard={styleCard}></Cards>\n        })\n        const functionValue=()=>{\n            if(this.state.valueButton==='Start Game'){return this.action()}else\n            if(this.state.valueButton==='Pass'){return this.pass()}else\n            if(this.state.valueButton==='End Turn'){return this.endTur()}else\n            if(this.state.valueButton==='New Game'){return this.newGame()}\n        }\n        const functionButton=()=>{\n            if(this.game.blockade===false){\n                this.game.blockade=true;\n                functionValue()\n                setTimeout(()=>{this.game.blockade=false;},500)\n            }\n        }\n        return(\n            <React.Fragment>\n            <Table clicked={this.playTheCard} field={this.props.results}/>\n            <div className={styles.GameDiv}>\n                {cardOpponent}\n                {card}\n                <LeftPanel>\n                    <div className={styles.cardOptions0} onClick={()=>{this.cardGo(40)}}><i className=\"demo-icon icon-trash\"></i></div>\n                    <ButtonGame onClick={functionButton}>{this.state.valueButton}</ButtonGame>\n                    <div className={styles.cardOptions1} onClick={()=>{this.cardGo(50)}}><i className=\"demo-icon icon-reply-all\"></i></div>\n                </LeftPanel>\n            </div>\n            </React.Fragment>\n        );\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        allCards: state.table.allCards,\n        results: state.table.results,\n    }\n};\nconst mapDispatchToProps = dispatch => {\n    return {\n        playTheCard: (hoverCard,fieldPlayed) => dispatch({type: 'PLAY_THE_CARD', val: hoverCard, id: fieldPlayed }),\n        giveAwayTheCards: () =>dispatch({type: 'GIVEAWAYTHECARS'}),\n        endTurn: () =>dispatch({type: 'ENDTURN'}),\n        pass: () =>dispatch({type: 'PASS'}),\n        newGame: () =>dispatch({type: 'NEWGAME'}),\n        cardGo: (hoverCard,val) =>dispatch({type: 'CARDGO', val: hoverCard,fieldPlayed: val}),\n    }\n};\n\nexport default connect(mapStateToProps ,mapDispatchToProps)(Builder);\n"]},"metadata":{},"sourceType":"module"}